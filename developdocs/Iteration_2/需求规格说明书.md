<div align='center' ><font size=7><b>需求规格说明书</b></font></div> 



团队名称：OwO

完成人：戎鑫

最终修改时间：2021.4.18

文档更新记录表：

| 修改人员 | 日期      | 变更原因         | 版本号 |
| -------- | --------- | ---------------- | ------ |
| 戎鑫     | 2021.4.14 | 完成文档主要内容 | V1.0   |
| 戎鑫     | 2021.4.18 | 完善文档         | V2.0   |



[TOC]



# 1 引言

## 1.1 目的

编写该文档的目的是为了方便对迭代一的内容进行重构，方便客户构造知识图谱，实现一个可以根据上传的文本自动抽取三元组构造知识图谱，并可以随意修改图谱输出的网页
开发小组的软件系统实现与验证工作都以此文档为依据。
除特殊说明之外，本文档所包含的需求都是最高优先级

## 1.2 范围

本文档主要描述图谱编辑界面内增加、编辑、搜索、标记、取消高亮实体和关系的内容，同时展示如何导出知识图谱为图片、xml、json，并调整图谱布局，增加重置图谱、信息统计、排版模式、力导图模式、图谱固定功能；我的图谱界面内浏览我的图谱、解析图谱并编辑。

## 1.3 定义、首字母缩写和缩略语

普通用户：以通过文本构造知识图谱为目的的用户

## 1.4 参考文献

* IEEE标准
* 软件工程与计算-团队与软件开发实践
* 软件工程3大作业需求

# 2 总体描述

## 2.1 产品前景

### 2.1.1 背景与机遇

知识图谱的概念源于2012年Google在其官博上发表的一篇博文：Introducing the Knowledge Graph: things, not strings，在这篇博文中简单介绍了和传统搜索技术相比使用知识图谱来增强搜索带来的好处。

自从2012年Google推出自己第一版知识图谱以来，它在学术界和工业界掀起了一股热潮。各大互联网企业在之后的短短一年内纷纷推出了自己的知识图谱产品以作为回应。比如在国内，互联网巨头百度和搜狗分别推出”知心“和”知立方”来改进其搜索质量。旨在通过语义把碎片化的数据关联起来，让用户能直接搜索到事务（Things），而不是文本字符串（Strings）。在搜索引擎中引入知识图谱大幅的提升和优化了搜索体验。不同于基于关键词搜索的传统搜索引擎，知识图谱可用来更好地查询复杂的关联信息，从语义层面理解用户意图，改进搜索质量。

### 2.1.2 业务需求

BO-1：在第二版应用之后的3个月内，提高用户搜索成功率30%

BO-2：在第二版应用之后的3个月内，提高用户搜索速度30%

BO-3：在第二版应用之后的6个月内，使用本平台的知识图谱的客户占当前市场中的30%以上

## 2.2 产品功能

该平台主要围绕着想要在文本中快速寻找问题答案的用户服务，包括图谱编辑界面内增加、编辑、搜索、标记、取消高亮实体和关系的内容，导出知识图谱为图片、xml、json，并调整图谱布局，以及重置图谱、信息统计、排版模式、力导图模式、图谱固定功能；我的图谱界面内浏览我的图谱、导入图谱并编辑的功能。最后将其细分为以下功能：

FE-1：登录、注册

FE-2：读取json/xml类型的图谱并进行编辑

FE-3：输入文本解析图谱并编辑

FE-4：浏览我的知识图谱并编辑

FE-5：通过拖拽等可视化方式调整图谱布局。

FE-6：增加、编辑、搜索、标记、取消高亮实体

FE-7：增加、编辑、搜索、标记、取消高亮关系

FE-8：不显示关系标签

FE-9：重置图谱

FE-10：信息统计

FE-11：排版模式

FE-12：力导图模式

FE-13：固定图谱

FE-14：保存知识图谱

FE-15：导出知识图谱为图片、xml

## 2.3 用户特征

| 用户     | 特征                                                         |
| -------- | ------------------------------------------------------------ |
| 普通用户 | 普通用户通过注册账号登录平台，浏览预定义的知识图谱，并对其进行增删改查，最后获得输出结果。 |
| 管理员   | 管理员负责维护平台。                                         |

## 2.4 约束

CON1.用户只能对自己的信息进行修改，不可以修改别人的

CON2.管理员只能管理用户的账号，无法查看用户的知识图谱

CON3.用户不需要专门的训练就能轻松完成知识图谱的构建

CON4.为防信息泄露，用户的账号、密码、姓名（名称）等必须密文存储

## 2.5 假设与依赖

AS-1：承载系统的服务器有较高的稳定性

AS-2：服务器所在的网络是安全的

# 3 详细需求描述

## 3.1 对外接口需求

### 3.1.1 用户界面

![主界面](pic\主界面.png)

<div align='center' ><font size=4><b>主界面</b></font></div> 

![登录界面](pic\登录界面.png)

<div align='center' ><font size=4><b>登录界面</b></font></div> 

![注册界面](pic\注册界面.png)

<div align='center' ><font size=4><b>注册界面</b></font></div> 

![我的图谱界面](pic\我的图谱界面.png)

<div align='center' ><font size=4><b>我的图谱界面</b></font></div> 

![图谱编辑界面](pic\图谱编辑界面.png)

<div align='center' ><font size=4><b>图谱编辑界面</b></font></div> 

![增加实体](pic\增加实体.png)

<div align='center' ><font size=4><b>增加实体</b></font></div> 

![增加关系](pic\增加关系.png)

<div align='center' ><font size=4><b>增加关系</b></font></div> 

![编辑实体](pic\编辑实体.png)

<div align='center' ><font size=4><b>编辑实体</b></font></div> 

![编辑关系](pic\编辑关系.png)

<div align='center' ><font size=4><b>编辑关系</b></font></div> 

![搜索、标记实体](pic\搜索、标记实体.png)

<div align='center' ><font size=4><b>搜索、标记实体</b></font></div> 

![搜索、标记关系](pic\搜索、标记关系.png)

<div align='center' ><font size=4><b>搜索、标记关系</b></font></div> 

![不显示标签](pic\不显示标签.png)

<div align='center' ><font size=4><b>不显示关系标签</b></font></div> 

![保存知识图谱](pic\保存知识图谱.png)

<div align='center' ><font size=4><b>保存知识图谱</b></font></div> 

![图谱XML导出](pic\图谱XML导出.png)

<div align='center' ><font size=4><b>图谱XML导出</b></font></div> 

![图谱图片导出](pic\图谱图片导出.png)

<div align='center' ><font size=4><b>图谱图片导出</b></font></div> 

![图谱固定](pic\信息统计.png)

<div align='center' ><font size=4><b>信息统计</b></font></div> 

![排版模式](pic\排版模式.png)

<div align='center' ><font size=4><b>排版模式</b></font></div> 

### 3.1.2 硬件接口

系统采用分布式开发，使⽤Jenkins创建Job实现对项⽬的⾃动化构建和部署发布，数据库多实例应保障数据一致性

### 3.1.3 软件接口

平台与第三方支付平台之间通过网络双向通信，第三方平台用于支付，将客户支付成功与否的信息返回给平台。

### 3.1.4 通信接口

用户浏览器与服务器后端使用基于json的REST API进行通信

## 3.2 功能需求

### 3.2.1 登录

#### 3.2.1.1 特征描述

用户点击增加登录按钮，填写信息后点击登录即可登录账号

#### 3.2.1.2 刺激/响应序列

刺激：用户点击增加登录

响应：系统跳转到登录界面

刺激：用户填写相关信息，点击登录

响应：登录成功

#### 3.2.1.3 相关功能需求

| 方法                  | 作用                             |
| --------------------- | -------------------------------- |
| header.jumpToLogin()  | 用户点击登录按钮，跳转到登录界面 |
| login.submitForm()    | 系统提交登录信息                 |
| login.verifyAccount() | 系统验证账户                     |

### 3.2.2 注册

#### 3.2.2.1 特征描述

用户点击增加注册按钮，填写信息后点击注册即可注册账号

#### 3.2.2.2 刺激/响应序列

刺激：用户点击注册按钮

响应：系统跳转到注册界面

刺激：用户填写相关信息，点击注册

响应：登录注册

#### 3.2.2.3 相关功能需求

| 方法                                       | 作用                             |
| ------------------------------------------ | -------------------------------- |
| header.jumpToRegister()/login.goRegister() | 用户点击注册按钮，跳转到注册界面 |
| register.submitForm()                      | 系统提交注册信息                 |
| register.addAccount()                      | 系统添加账户                     |

### 3.2.3 读入图谱并解析

#### 3.2.3.1 特征描述

用户点击增加读入图谱按钮，上传文件后点击解析图谱并编辑按钮即可编辑图谱

#### 3.2.3.2 刺激/响应序列

刺激：用户点击读入图谱按钮

响应：系统读取文件

刺激：用户点击解析图谱并编辑按钮

响应：系统生成知识图谱并跳转到编辑界面

#### 3.2.3.3 相关功能需求

| 方法                   | 作用                               |
| ---------------------- | ---------------------------------- |
| myChart.uploadFile()   | 用户点击读入图谱按钮，上传图谱文件 |
| myChart.analyzeChart() | 系统解析图谱并跳转到编辑界面       |

### 3.2.4 输入文本并解析

#### 3.2.4.1 特征描述

用户在文本框内输入要解析的文本，点击解析文本按钮即可生成知识图谱并编辑

#### 3.2.4.2 刺激/响应序列

刺激：用户在文本框内输入要解析的文本，点击解析文本按钮

响应：系统生成知识图谱并跳转到编辑界面

#### 3.2.4.3 相关功能需求

| 方法                  | 作用                         |
| --------------------- | ---------------------------- |
| myChart.analyzeText() | 系统解析文本并跳转到编辑界面 |
| myChart.getKg()       | 系统解析文本方法             |

### 3.2.5 浏览知识图谱并编辑

#### 3.2.5.1 特征描述

用户浏览自己的知识图谱，点击编辑按钮即可编辑图谱

#### 3.2.5.2 刺激/响应序列

刺激：浏览自己的知识图谱，点击编辑按钮

响应：系统跳转到编辑界面

### 3.2.6 增加实体/关系用例

#### 3.2.6.1 特征描述

用户点击增加实体/关系按钮，填写信息后点击增加即可增添实体

#### 3.2.6.2 刺激/响应序列

刺激：用户点击增加实体/关系按钮

响应：系统展示信息填别表格

刺激：用户填写实体/关系相关信息，点击增加

响应：实体/关系增加成功

#### 3.2.6.3 相关功能需求

| 方法                                                    | 作用                                         |
| ------------------------------------------------------- | -------------------------------------------- |
| ChartEdit.createNodeClick()/ChartEdit.createLinkClick() | 用户点击增加实体/关系按钮，实体/关系表单显现 |
| ChartEdit.handleClose()                                 | 系统提交实体/关系信息                        |
| ChartEdit.createNode()/ChartEdit.createLink()           | 系统创建实体/关系                            |

### 3.2.7 编辑实体/关系用例

#### 3.2.7.1 特征描述

用户点击图谱上的实体/关系，修改信息后点击修改即可修改实体/关系

#### 3.2.7.2 刺激/响应序列

刺激：用户点击图谱上的实体/关系

响应：系统展示信息修改表格

刺激：用户点击修改

响应：实体/关系修改成功

刺激：用户点击删除

响应：实体/关系删除成功

#### 3.2.7.3 相关功能需求

| 方法                                          | 作用                  |
| --------------------------------------------- | --------------------- |
| ChartEdit.chartClick()                        | 系统展示信息修改表格  |
| ChartEdit.handleClose()                       | 系统提交实体/关系信息 |
| ChartEdit.deleteNode()/ChartEdit.deleteNode() | 系统删除实体/关系     |

### 3.2.8 搜索实体/关系并标记

#### 3.2.8.1 特征描述

用户点击实体/关系信息搜索按钮，填写相关信息后即可搜索，对选定目标进行标记

#### 3.2.8.2 刺激/响应序列

刺激：用户点击实体/关系信息搜索按钮

响应：系统展示信息表格

刺激：用户填写相关信息，点击搜索

响应：系统展示实体/关系

刺激：用户勾选实体/关系，点击标记目标按钮，即可标记目标

#### 3.2.8.3 相关功能需求

| 方法                                                         | 作用                     |
| ------------------------------------------------------------ | ------------------------ |
| ChartEdit.searchNodeClick()/ChartEdit.searchLinkClick()      | 系统显示搜索列表         |
| ChartEdit.getSearchNodeNameHistory()/ChartEdit.getSearchLinkNameHistory() | 系统获取搜索名字历史信息 |
| ChartEdit.selectSearchNodeName()/ChartEdit.selectSearchLinkName() | 系统选择历史名字信息     |
| ChartEdit.getSearchNodeDesHistory()/ChartEdit.getSearchLinkDesHistory() | 系统获取搜索描述历史信息 |
| ChartEdit.selectSearchNodeDes()/ChartEdit.selectSearchLinkDes() | 系统选择历史描述信息     |
| ChartEdit.getSearchNodeCategoryHistory()/ChartEdit.getSearchLinkCategoryHistory() | 系统获取搜索种类历史信息 |
| ChartEdit.selectSearchNodeCategory()/ChartEdit.selectSearchLinkCategory() | 系统选择历史种类信息     |
| ChartEdit.searchNode()/ChartEdit.searchLink()                | 系统搜索实体/关系        |
| ChartEdit.setSearchNodeResultChosen()/ChartEdit.setSearchLinkResultChosen() | 系统展示搜索结果         |
| ChartEdit.confirmSearchNode()/ChartEdit.confirmSearchLink()  | 系统标记实体/关系        |

### 3.2.9 取消实体/关系高亮

#### 3.2.9.1 特征描述

用户点击取消实体/关系高亮按钮，实体/关系标记取消

#### 3.2.9.2 刺激/响应序列

刺激：用户点击取消实体/关系高亮按钮

响应：系统取消实体/关系标记

#### 3.2.9.3 相关功能需求

| 方法                                                         | 作用             |
| ------------------------------------------------------------ | ---------------- |
| ChartEdit.cancelNodeHighlight()/ChartEdit.cancelLinkHighlight() | 系统取消实体高亮 |

### 3.2.10 (不)显示关系标签

#### 3.2.10.1 特征描述

用户点击(不)显示关系标签按钮，关系标签(不)显示

#### 3.2.10.2 刺激/响应序列

刺激：用户点击(不)显示关系标签按钮

响应：系统(不)显示关系标签

#### 3.2.10.3 相关功能需求

| 方法                        | 作用                                           |
| --------------------------- | ---------------------------------------------- |
| ChartEdit.cancelLabelShow() | 若显示关系标签，则设置为不显示；反正同样处理。 |

### 3.2.11 重置图谱

#### 3.2.11.1 特征描述

用户点击重置图谱按钮，系统重置图谱

#### 3.2.11.2 刺激/响应序列

刺激：用户点击重置图谱按钮

响应：系统重置图谱

#### 3.2.11.3 相关功能需求

| 方法                  | 作用         |
| --------------------- | ------------ |
| ChartEdit.showChart() | 系统重置图谱 |

### 3.2.12 信息统计

#### 3.2.12.1 特征描述

用户点击信息统计按钮，系统展示统计信息

#### 3.2.12.2 刺激/响应序列

刺激：用户点击信息统计按钮

响应：系统展示统计信息

#### 3.2.12.3 相关功能需求

| 方法                        | 作用             |
| --------------------------- | ---------------- |
| ChartEdit.statisticsClick() | 系统展示统计信息 |

### 3.2.13 排版模式

#### 3.2.13.1 特征描述

用户点击排版模式按钮，系统展示排版模式

#### 3.2.13.2 刺激/响应序列

刺激：用户点击排版模式按钮

响应：系统展示排版模式

#### 3.2.13.3 相关功能需求

| 方法                             | 作用             |
| -------------------------------- | ---------------- |
| ChartEdit.showArrangementChart() | 系统展示排版模式 |

### 3.2.14 (取消)图谱固定

#### 3.2.14.1 特征描述

用户点击(取消)固定图谱按钮，系统(取消)固定图谱

#### 3.2.14.2 刺激/响应序列

刺激：用户点击(取消)固定图谱按钮

响应：系统(取消)固定图谱

#### 3.2.14.3 相关功能需求

| 方法                           | 作用             |
| ------------------------------ | ---------------- |
| ChartEdit.fixChartClick()      | 系统固定图谱     |
| ChartEdit.flexibleChartClick() | 系统取消固定图谱 |

### 3.2.15 保存知识图谱

#### 3.2.15.1 特征描述

用户点击保存到我的知识图谱，系统提示成功保存该知识图谱

#### 3.2.15.2 刺激/响应序列

刺激：用户点击保存到我的知识图谱

响应：系统提示成功保存该知识图谱

#### 3.2.15.3 相关功能需求

| 方法                       | 作用             |
| -------------------------- | ---------------- |
| ChartEdit.saveChartClick() | 系统保存知识图谱 |

### 3.2.16 图谱XML导出

#### 3.2.16.1 特征描述

用户点击图谱XML导出，系统弹出下载链接

#### 3.2.16.2 刺激/响应序列

刺激：用户点击图谱XML导出

响应：系统弹出下载链接

#### 3.2.16.3 相关功能需求

| 方法                              | 作用        |
| --------------------------------- | ----------- |
| ChartEdit.chartXMLDownloadClick() | XML文件导出 |

### 3.2.17 图谱图片导出

#### 3.2.17.1 特征描述

用户点击图谱图片导出，系统弹出下载

#### 3.2.17.2 刺激/响应序列

刺激：用户点击图谱图片导出

响应：系统弹出下载链接

#### 3.2.17.3 相关功能需求

| 方法                              | 作用     |
| --------------------------------- | -------- |
| ChartEdit.chartImgDownloadClick() | 图片导出 |

## 3.3 非功能需求

### 3.3.1 易用性

Usability1. 初次使用系统的用户应能自行根据提示进行操作

Usability2. 平台支出不同的浏览器

Usability3. 平台支持不同尺寸大小的屏幕

### 3.3.2 可修改性

Modifiability1. 当有新功能需要添加时，管理员能够在一天内完成维护。

### 3.3.3 可靠性

Reliability1. 系统每年不可用时间不得超过1天

### 3.3.4 性能

Performance1. 系统首页的打开时间不应超过2s

Performance2. 系统提供的下载时长不应超过3s

Performance3. 系统至少能支持1000人同时编辑知识图谱

### 3.3.5  约束

IC1. 保护用户个人信息，防止信息泄露，维护用户隐私权

## 3.4 数据需求

### 3.4.1 数据定义

DR1. 实体数据

| 字段       | 类型   | 描述         | 默认值                           |
| ---------- | ------ | ------------ | -------------------------------- |
| name       | string | 实体名称     | 无                               |
| des        | string | 实体描述     | 无                               |
| symbol     | string | 实体形状     | 无                               |
| symbolSize | int    | 实体大小     | 0                                |
| type       | string | 实体是否高亮 | 无                               |
| color      | string | 实体颜色     | 根据类型自动配置，若有定义则覆盖 |
| fontSize   | int    | 实体字体大小 | 无                               |
| catagory   | int    | 实体种类     | 1                                |

DR2. 关系数据

| 字段   | 类型   | 描述         |
| ------ | ------ | ------------ |
| source | string | 关系起始节点 |
| target | string | 关系目标节点 |
| name   | string | 关系名称     |
| des    | string | 关系描述     |

## 3.5 其他

### 3.5.1 安装需求

使⽤Jenkins创建Job实现对项⽬的⾃动化构建和部署发布





